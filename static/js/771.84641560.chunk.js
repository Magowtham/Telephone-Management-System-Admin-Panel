"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[771],{771:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r=t(791),a=t(689),n=(t(176),t(184));const o=function(){const e=(0,a.s0)(),[s,t]=(0,r.useState)(!1),[o,i]=(0,r.useState)({userName:"",password:""}),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({}),[p,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[f,v]=(0,r.useState)({state:!1,text:""}),j=(0,r.useRef)(null),w=(0,r.useRef)(null),g=(e,s)=>{s||e.preventDefault(),c(!1),u({}),i(s?{userName:w.current[0].value,password:w.current[1].value}:{userName:e.target[0].value,password:e.target[1].value}),t(!0)},y=e=>{"Enter"===e.key&&g(w.current,!0)};return(0,r.useEffect)((()=>(window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)))),(0,r.useEffect)((()=>{s&&(c((()=>{const e={};return o.userName||(e.userNameError="User Name Required"),o.password||(e.passwordError="Password Required"),u(e),!0})()),t(!1))}),[s]),(0,r.useEffect)((()=>{l&&0===Object.keys(d).length&&(async()=>{try{x(!0);const s=await fetch("".concat("https://test-telephone-server.onrender.com","/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)}),t=await s.json();if(200===s.status)e("/");else v({state:!0,text:t.error})}catch(s){alert(s.message)}finally{x(!1)}})()}),[l]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"login-container",children:[(0,n.jsxs)("div",{className:"error-notification  ".concat(f.state?"show":""),children:[(0,n.jsx)("p",{children:f.text}),(0,n.jsx)("button",{onClick:()=>{v({state:!1,text:""})},children:(0,n.jsx)("img",{src:"/Icons/close.png",alt:""})})]}),(0,n.jsxs)("form",{onSubmit:g,ref:w,children:[(0,n.jsx)("div",{className:"form-overlay ".concat(h?"open":"")}),(0,n.jsx)("div",{className:"progress-bar ".concat(h?"open":""),children:(0,n.jsx)("div",{className:"progress-bar-value"})}),(0,n.jsx)("div",{className:"heading-sec",children:(0,n.jsx)("h1",{children:"Admin Login"})}),(0,n.jsx)("p",{children:null===d||void 0===d?void 0:d.userNameError}),(0,n.jsx)("input",{type:"text",placeholder:"User Name"}),(0,n.jsx)("p",{children:null===d||void 0===d?void 0:d.passwordError}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{ref:j,type:"password",placeholder:"Password"}),(0,n.jsx)("button",{className:"material-symbols-outlined",onClick:e=>{e.preventDefault(),m(!p),j.current.type=p?"password":"text"},children:(0,n.jsx)("img",{src:"/Icons/".concat(p?"visibility.png":"visibility_off.png"),alt:""})})]}),(0,n.jsxs)("div",{className:"form-footer-sec",children:[(0,n.jsx)("p",{children:"Forgot Password ?"}),(0,n.jsx)("button",{type:"submit",children:"Login"})]})]})]})})}},176:()=>{}}]);
//# sourceMappingURL=771.84641560.chunk.js.map